"use strict";(self.webpackChunkexodus_react=self.webpackChunkexodus_react||[]).push([[518],{79135:function(se,p,e){e.r(p);var I=e(15009),i=e.n(I),R=e(99289),v=e.n(R),T=e(97857),O=e.n(T),b=e(13769),A=e.n(b),U=e(5574),l=e.n(U),m=e(2618),B=e(51042),y=e(90930),L=e(44995),W=e(37476),K=e(5966),S=e(90672),D=e(35312),F=e(96365),c=e(2453),Z=e(71577),o=e(67294),r=e(85893),z=["defaultRender"],G=20,$=function(ne){var w=(0,D.useSearchParams)(),M=l()(w,2),H=M[0],N=M[1],V=(0,o.useState)(!1),f=l()(V,2),Y=f[0],E=f[1],J=(0,o.useState)(),j=l()(J,2),te=j[0],Q=j[1],ae=function(_){return(0,m.H8)(_).then(function(s){return Q(s)})},X=(0,o.useRef)(),k=(0,o.useState)(),C=l()(k,2),ue=C[0],oe=C[1],q=[{title:"name",dataIndex:"name",tip:"The rule name is the unique key",render:function(_,s){return(0,r.jsx)("a",{onClick:function(){D.history.push("/video/movies/".concat(s.objectId))},children:_})}},{title:"Description",dataIndex:"desc",valueType:"textarea"},{title:"Status",dataIndex:"status",hideInForm:!0,valueEnum:{0:{text:"\u9884\u5907",status:"\u9884\u5907"},1:{text:"Running",status:"Processing"},2:{text:"Online",status:"Success"},3:{text:"Abnormal",status:"Error"}}},{title:"\u6700\u8FD1\u4FEE\u6539",sorter:!0,dataIndex:"updatedAt",valueType:"dateTime",renderFormItem:function(_,s,u){var d=s.defaultRender,a=A()(s,z),h=u.getFieldValue("status");return"".concat(h)==="0"?!1:"".concat(h)==="3"?(0,r.jsx)(F.Z,O()(O()({},a),{},{placeholder:"Please enter the reason for the exception!"})):d(_)}}],ee=(0,o.useState)(-1),g=l()(ee,2),x=g[0],P=g[1];(0,o.useEffect)(function(){var n=H.get("page");n==null?P(1):P(n)},[]);var _e=function(){var n=v()(i()().mark(function _(s,u){var d,a;return i()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return d=c.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),t.prev=1,t.next=4,(0,m.dO)(s,u);case 4:return a=t.sent,d(),c.ZP.success("Added successfully"),t.abrupt("return",!0);case 10:return t.prev=10,t.t0=t.catch(1),d(),c.ZP.error("Adding failed, please try again!"),t.abrupt("return",!1);case 15:case"end":return t.stop()}},_,null,[[1,10]])}));return function(s,u){return n.apply(this,arguments)}}();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y._z,{children:x>0&&(0,r.jsx)(L.Z,{headerTitle:"Enquiry form",actionRef:X,pagination:{current:x,pageSize:G,onChange:function(_){P(_),N({page:_})}},pageSize:3,rowKey:"objectId",search:{labelWidth:120},toolBarRender:function(){return[(0,r.jsxs)(Z.ZP,{type:"primary",onClick:function(){E(!0)},children:[(0,r.jsx)(B.Z,{})," New"]},"primary")]},request:m.FL,columns:q})}),(0,r.jsxs)(W.Y,{title:"\u6DFB\u52A0\u5F71\u89C6\u8D44\u6E90",width:"400px",open:Y,onOpenChange:E,onFinish:function(){var n=v()(i()().mark(function _(s){var u;return i()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_e(s.name,s.desc);case 2:u=a.sent,u&&E(!1);case 4:case"end":return a.stop()}},_)}));return function(_){return n.apply(this,arguments)}}(),children:[(0,r.jsx)(K.Z,{label:"\u540D\u79F0",rules:[{required:!0,message:"name is required"}],width:"md",name:"name"}),(0,r.jsx)(S.Z,{label:"\u7B80\u4ECB",name:"desc"})]},"modddd")]})};p.default=$}}]);
