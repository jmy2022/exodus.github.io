"use strict";(self.webpackChunkexodus_react=self.webpackChunkexodus_react||[]).push([[593],{83073:function(ge,V,r){r.d(V,{Z:function(){return $}});var J=r(15009),G=r.n(J),X=r(99289),C=r.n(X),q=r(2618),b=r(37476),O=r(34994),t=r(1413),h=r(91),d=r(67294),v=r(31721),n=r(85893),ee=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],re=d.forwardRef(function(e,a){var u=e.fieldProps,l=e.unCheckedChildren,o=e.checkedChildren,i=e.proFieldProps,x=(0,h.Z)(e,ee);return(0,n.jsx)(v.Z,(0,t.Z)({valueType:"switch",fieldProps:(0,t.Z)({unCheckedChildren:l,checkedChildren:o},u),ref:a,valuePropName:"checked",proFieldProps:i,filedConfig:{valuePropName:"checked",ignoreWidth:!0}},x))}),ae=re,I=r(5966),oe=["fieldProps","min","proFieldProps","max"],N=function(a,u){var l=a.fieldProps,o=a.min,i=a.proFieldProps,x=a.max,P=(0,h.Z)(a,oe);return(0,n.jsx)(v.Z,(0,t.Z)({valueType:"digit",fieldProps:(0,t.Z)({min:o,max:x},l),ref:u,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:i},P))},A=d.forwardRef(N),ne=A,E=r(66758),te=["proFieldProps","fieldProps"],D="date",f=d.forwardRef(function(e,a){var u=e.proFieldProps,l=e.fieldProps,o=(0,h.Z)(e,te),i=(0,d.useContext)(E.Z);return(0,n.jsx)(v.Z,(0,t.Z)({ref:a,valueType:D,fieldProps:(0,t.Z)({getPopupContainer:i.getPopupContainer},l),proFieldProps:u,filedConfig:{valueType:D,customLightMode:!0}},o))}),se=f,s=["proFieldProps","fieldProps"],Y="dateMonth",le=d.forwardRef(function(e,a){var u=e.proFieldProps,l=e.fieldProps,o=(0,h.Z)(e,s),i=(0,d.useContext)(E.Z);return(0,n.jsx)(v.Z,(0,t.Z)({ref:a,valueType:Y,fieldProps:(0,t.Z)({getPopupContainer:i.getPopupContainer},l),proFieldProps:u,filedConfig:{valueType:Y,customLightMode:!0}},o))}),ue=le,ie=["fieldProps"],B="dateQuarter",W=d.forwardRef(function(e,a){var u=e.fieldProps,l=(0,h.Z)(e,ie),o=(0,d.useContext)(E.Z);return(0,n.jsx)(v.Z,(0,t.Z)({ref:a,valueType:B,fieldProps:(0,t.Z)({getPopupContainer:o.getPopupContainer},u),filedConfig:{valueType:B,customLightMode:!0}},l))}),Z=W,F=["proFieldProps","fieldProps"],L="dateWeek",m=d.forwardRef(function(e,a){var u=e.proFieldProps,l=e.fieldProps,o=(0,h.Z)(e,F),i=(0,d.useContext)(E.Z);return(0,n.jsx)(v.Z,(0,t.Z)({ref:a,valueType:L,fieldProps:(0,t.Z)({getPopupContainer:i.getPopupContainer},l),proFieldProps:u,filedConfig:{valueType:L,customLightMode:!0}},o))}),de=m,Q=["proFieldProps","fieldProps"],z="dateYear",U=d.forwardRef(function(e,a){var u=e.proFieldProps,l=e.fieldProps,o=(0,h.Z)(e,Q),i=(0,d.useContext)(E.Z);return(0,n.jsx)(v.Z,(0,t.Z)({ref:a,valueType:z,fieldProps:(0,t.Z)({getPopupContainer:i.getPopupContainer},l),proFieldProps:u,filedConfig:{valueType:z,customLightMode:!0}},o))}),ce=U,j=se;j.Week=de,j.Month=ue,j.Quarter=Z,j.Year=ce,j.displayName="ProFormComponent";var pe=j,k=r(22270),K=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],me=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],H=d.forwardRef(function(e,a){var u=e.fieldProps,l=e.children,o=e.params,i=e.proFieldProps,x=e.mode,P=e.valueEnum,S=e.request,R=e.showSearch,M=e.options,p=(0,h.Z)(e,K),c=(0,d.useContext)(E.Z);return(0,n.jsx)(v.Z,(0,t.Z)((0,t.Z)({valueEnum:(0,k.h)(P),request:S,params:o,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,t.Z)({options:M,mode:x,showSearch:R,getPopupContainer:c.getPopupContainer},u),ref:a,proFieldProps:i},p),{},{children:l}))}),_e=d.forwardRef(function(e,a){var u=e.fieldProps,l=e.children,o=e.params,i=e.proFieldProps,x=e.mode,P=e.valueEnum,S=e.request,R=e.options,M=(0,h.Z)(e,me),p=(0,t.Z)({options:R,mode:x||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},u),c=(0,d.useContext)(E.Z);return(0,n.jsx)(v.Z,(0,t.Z)((0,t.Z)({valueEnum:(0,k.h)(P),request:S,params:o,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,t.Z)({getPopupContainer:c.getPopupContainer},p),ref:a,proFieldProps:i},M),{},{children:l}))}),w=H,Pe=_e,T=w;T.SearchSelect=Pe,T.displayName="ProFormComponent";var ve=T,fe=r(90672),he=function(a){return(0,n.jsx)(n.Fragment,{children:a.myValue&&(0,n.jsxs)(b.Y,{open:a.updateModalOpen,disabled:!1,title:"\u57FA\u672C\u6570\u636E",initialValues:a.myValue,onOpenChange:function(l){l||a.onCancel()},onFinish:function(){var u=C()(G()().mark(function l(o){var i;return G()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,q.u8)({objectId:a.myValue.objectId,originalName:o.originalName,desc:o.desc,duration:o.duration,issueDate:o.issueDate,name:o.name,category:o.category?o.category:[],region:o.region?o.region:[]});case 2:i=P.sent,i&&a.onSubmit(i);case 4:case"end":return P.stop()}},l)}));return function(l){return u.apply(this,arguments)}}(),children:[(0,n.jsx)(O.A.Group,{children:(0,n.jsx)(ae,{colProps:{span:4},initialValue:!0,label:"\u7535\u5F71/\u7535\u89C6\u5267",name:"isMovie"})}),(0,n.jsxs)(O.A.Group,{children:[(0,n.jsx)(I.Z,{rules:[{required:!0,message:"Rule name is required"}],label:"\u8BD1\u540D",width:"md",name:"name"}),(0,n.jsx)(I.Z,{rules:[{required:!0,message:"Rule name is required"}],label:"\u539F\u59CB\u540D\u79F0\uFF08\u4E00\u822C\u662F\u82F1\u6587\uFF09",width:"md",rowProps:{gutter:8},name:"originalName"})]}),(0,n.jsxs)(O.A.Group,{children:[(0,n.jsx)(ne,{label:"\u7247\u957F(\u5206\u949F)",width:"md",name:"duration"}),(0,n.jsx)(pe,{label:"\u53D1\u884C\u65E5\u671F",width:"md",name:"issueDate"})]}),(0,n.jsxs)(O.A.Group,{children:[(0,n.jsx)(ve.SearchSelect,{colProps:{span:16},width:"md",name:"category",label:"\u7C7B\u522B",fieldProps:{labelInValue:!0,style:{minWidth:140}},options:[{label:"\u7231\u60C5",value:"romance"},{label:"\u5361\u901A",value:"animation"},{label:"\u559C\u5267",value:"comedy"},{label:"\u60AC\u7591",value:"suspense"},{label:"\u60CA\u609A",value:"panic"},{label:"\u53E4\u88C5",value:"historical"},{label:"\u5BB6\u5EAD",value:"family"},{label:"\u52A8\u4F5C",value:"action"},{label:"\u72AF\u7F6A",value:"crime"},{label:"\u55AA\u5C4D\u7247",value:"zombie"},{label:"\u7EAA\u5F55\u7247",value:"documentary"},{label:"\u63A2\u9669\u7247",value:"adventure"},{label:"\u9752\u6625\u7247",value:"teen"},{label:"\u5267\u60C5",value:"drama"},{label:"\u79D1\u5E7B",value:"fantasy"},{label:"\u6210\u4EBA",value:"adult"}]}),(0,n.jsx)(ve.SearchSelect,{colProps:{span:14},width:"md",name:"region",label:"\u5730\u533A",fieldProps:{labelInValue:!0,style:{minWidth:140}},options:[{label:"\u7F8E\u56FD",value:"america"},{label:"\u52A0\u62FF\u5927",value:"canada"},{label:"\u82F1\u56FD",value:"britain"},{label:"\u6CD5\u56FD",value:"france"},{label:"\u6BD4\u5229\u65F6",value:"belgium"},{label:"\u5308\u7259\u5229",value:"hungary"},{label:"\u97E9\u56FD",value:"korea"},{label:"\u65E5\u672C",value:"japan"},{label:"\u9999\u6E2F",value:"hk"},{label:"\u5370\u5EA6",value:"india"}]})]}),(0,n.jsx)(fe.Z,{label:"\u7B80\u4ECB",name:"desc"})]})})},$=he},1154:function(ge,V,r){r.r(V);var J=r(13769),G=r.n(J),X=r(5574),C=r.n(X),q=r(15009),b=r.n(q),O=r(97857),t=r.n(O),h=r(99289),d=r.n(h),v=r(2618),n=r(51042),ee=r(90930),re=r(44995),ae=r(37476),I=r(5966),oe=r(90672),N=r(35312),A=r(2453),ne=r(96365),E=r(71577),te=r(5298),D=r(32808),f=r(67294),se=r(83073),s=r(85893),Y=["defaultRender"],le=10,ue=function(){var B=d()(b()().mark(function W(Z){var F;return b()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return F=A.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),m.prev=1,m.next=4,(0,v.aF)(t()({},Z));case 4:return F(),A.ZP.success("Added successfully"),m.abrupt("return",!0);case 9:return m.prev=9,m.t0=m.catch(1),F(),A.ZP.error("Adding failed, please try again!"),m.abrupt("return",!1);case 14:case"end":return m.stop()}},W,null,[[1,9]])}));return function(Z){return B.apply(this,arguments)}}(),ie=function(W){var Z=(0,N.useSearchParams)(),F=C()(Z,2),L=F[0],m=F[1],de=(0,f.useState)(!1),Q=C()(de,2),z=Q[0],U=Q[1],ce=(0,f.useState)(!1),j=C()(ce,2),pe=j[0],k=j[1],K=(0,f.useRef)(),me=(0,f.useState)(),H=C()(me,2),_e=H[0],w=H[1],Pe=(0,f.useState)([]),T=C()(Pe,2),ve=T[0],fe=T[1],he=(0,f.useState)(!1),$=C()(he,2),e=$[0],a=$[1],u=(0,f.useState)(!1),l=C()(u,2),o=l[0],i=l[1],x=[{title:"id",dataIndex:"objectId",tip:"The rule id is the unique key",render:function(c,_){return(0,s.jsx)("a",{onClick:function(){N.history.push("/video/role/".concat(_.objectId))},children:c})}},{title:"name",dataIndex:"name",tip:"The rule name is the unique key",render:function(c,_){return(0,s.jsx)("a",{onClick:function(){w(_)},children:c})}},{title:"\u82F1\u6587\u540D",dataIndex:"enName",tip:"The rule name is the unique key",render:function(c,_){return(0,s.jsx)("a",{onClick:function(){w(_)},children:c})}},{title:"\u804C\u80FD",dataIndex:"staff",valueType:"checkbox",valueEnum:{isActor:{text:"\u6F14\u5458",status:"isActor"},isDirector:{text:"\u5BFC\u6F14",status:"isDirector"}}},{title:"Description",dataIndex:"desc",valueType:"textarea",hideInForm:!0},{title:"Last scheduled time",sorter:!0,dataIndex:"updatedAt",valueType:"dateTime",renderFormItem:function(c,_,g){var Ce=_.defaultRender,y=G()(_,Y),xe=g.getFieldValue("status");return"".concat(xe)==="0"?!1:"".concat(xe)==="3"?(0,s.jsx)(ne.Z,t()(t()({},y),{},{placeholder:"Please enter the reason for the exception!"})):Ce(c)}},{title:"Operating",dataIndex:"option",valueType:"option",render:function(c,_){return[(0,s.jsx)("a",{onClick:function(){},children:"\u8D44\u6E90"},"config".concat(_.objectId)),(0,s.jsx)("a",{onClick:function(){},children:"\u914D\u7F6E"},"image"),(0,s.jsx)("a",{onClick:function(){w(_)},children:"\u9884\u89C8"},"res")]}}],P=(0,f.useState)(-1),S=C()(P,2),R=S[0],M=S[1];return(0,f.useEffect)(function(){var p=L.get("page");p==null?M(1):M(p)},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ee._z,{children:R>0&&(0,s.jsx)(re.Z,{headerTitle:"Enquiry form",actionRef:K,pagination:{current:R,pageSize:le,onChange:function(c){M(c),m({page:c})}},pageSize:3,rowKey:"objectId",search:{labelWidth:120},toolBarRender:function(){return[(0,s.jsxs)(E.ZP,{type:"primary",onClick:function(){U(!0)},children:[(0,s.jsx)(n.Z,{})," New"]},"primary")]},request:v.DV,columns:x})}),(0,s.jsx)(se.Z,{myValue:_e||{},updateModalOpen:pe,onCancel:function(){console.log("\u53D6\u6D88"),k(!1)},onSubmit:function(){k(!1)}}),(0,s.jsxs)(ae.Y,{title:"\u65B0\u5EFA",width:"400px",open:z,onOpenChange:U,onFinish:function(){var p=d()(b()().mark(function c(_){var g;return b()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return console.dir(_),y.next=3,ue(_);case 3:g=y.sent,g&&(U(!1),K.current&&K.current.reload());case 5:case"end":return y.stop()}},c)}));return function(c){return p.apply(this,arguments)}}(),children:[(0,s.jsx)(I.Z,{label:"\u4E2D\u6587\u540D",rules:[{required:!0,message:"name is required"}],width:"md",name:"name"}),(0,s.jsx)(I.Z,{label:"\u82F1\u6587\u540D\uFF08\u534E\u4EBA\uFF0C\u6CA1\u6709\u5C31\u7528\u62FC\u97F3\uFF09",rules:[{required:!0,message:"name is required"}],width:"md",name:"enName"}),(0,s.jsx)(te.Z.Item,{name:"staff",label:"\u6F14\u804C\u89D2\u8272",children:(0,s.jsxs)(D.Z.Group,{children:[(0,s.jsx)(D.Z,{value:"isActor",style:{lineHeight:"32px"},children:"\u6F14\u5458"}),(0,s.jsx)(D.Z,{value:"isDirector",style:{lineHeight:"32px"},children:"\u5BFC\u6F14"}),(0,s.jsx)(D.Z,{value:"isScriptwriter",style:{lineHeight:"32px"},disabled:!0,children:"\u7F16\u5267"})]})}),(0,s.jsx)(oe.Z,{label:"\u7B80\u4ECB",width:"md",name:"desc"})]})]})};V.default=ie}}]);
